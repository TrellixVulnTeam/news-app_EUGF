(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{411:function(t,e,n){var content=n(423);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(51).default)("d54466cc",content,!0,{sourceMap:!1})},421:function(t,e,n){"use strict";var r=n(8),o=n(199)(6),c="findIndex",d=!0;c in[]&&Array(1)[c]((function(){d=!1})),r(r.P+r.F*d,"Array",{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(87)(c)},422:function(t,e,n){"use strict";n(411)},423:function(t,e,n){(e=n(50)(!1)).push([t.i,".small-icon[data-v-39ff51dd]{font-size:18px!important}.fixed-toolbar[data-v-39ff51dd]{position:fixed;top:0;z-index:5}@media screen and (max-width:767px){.fixed-toolbar[data-v-39ff51dd]{display:block}}.md-title[data-v-39ff51dd]{line-height:2.49rem}.md-toolbar-section-end[data-v-39ff51dd]{display:block}.md-toolbar-section-end .box[data-v-39ff51dd]{display:flex;justify-content:flex-end}@media screen and (max-width:767px){.md-toolbar-section-end .box[data-v-39ff51dd]{justify-content:space-evenly}}.md-toolbar-section-end .md-button[data-v-39ff51dd]{min-width:0}@media screen and (max-width:767px){.md-toolbar-section-end .w-18[data-v-39ff51dd]{width:21%}}@media screen and (max-width:767px){.md-toolbar-section-end .w-20[data-v-39ff51dd]{width:27%}}",""]),t.exports=e},426:function(t,e,n){"use strict";n.r(e);n(421),n(40);var r=n(4),o={data:function(){return{showRightSidePanel:!1,showLeftSidePanel:!1,showSearchDialog:!1,showSnackbar:!1,newsCategories:[{name:"Top Headlines",path:"",icon:"today"},{name:"Technology",path:"technology",icon:"keyboard"},{name:"Buisiness",path:"buisiness",icon:"send"},{name:"Entertainment",path:"entertainment",icon:"weekend"},{name:"Health",path:"health",icon:"fastfood"},{name:"Science",path:"science",icon:"fingerprint"},{name:"Sports",path:"sports",icon:"golf_course"}],query:"",fromDate:"",toDate:"",sortBy:""}},fetch:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store,e.next=3,n.dispatch("loadHeadLines","/api/top-headlines?country=".concat(n.state.country,"&category=").concat(n.state.category));case 3:return e.next=5,n.dispatch("loadUserFeed");case 5:case"end":return e.stop()}}),e)})))()},computed:{headlines:function(){return this.$store.getters.headlines},feed:function(){return this.$store.getters.feed},category:function(){return this.$store.getters.category},country:function(){return this.$store.getters.country},source:function(){return this.$store.getters.source},loading:function(){return this.$store.getters.loading},user:function(){return this.$store.getters.user},isAuthenticated:function(){return this.$store.getters.isAuthenticated}},methods:{loadCategory:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.$store.commit("setCategory",t),n.next=3,e.$store.dispatch("loadHeadLines","/api/top-headlines?country=".concat(e.country,"&category=").concat(e.category));case 3:case"end":return n.stop()}}),n)})))()},changeCountry:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.$store.commit("setCountry",t),n.next=3,e.$store.dispatch("loadHeadLines","/api/top-headlines?country=".concat(e.country,"&category=").concat(e.category));case 3:case"end":return n.stop()}}),n)})))()},loadSource:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=4;break}return e.$store.commit("setSource",t),n.next=4,e.$store.dispatch("loadHeadLines","/api/top-headlines?sources=".concat(e.source));case 4:case"end":return n.stop()}}),n)})))()},searchHeadlines:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("loadHeadLines","/api/everything?q=".concat(t.query,"&from=").concat(t.dateToISOString(t.fromDate),"&to=").concat(t.dateToISOString(t.toDate),"&sortBy=").concat(t.sortBy));case 2:t.showSearchDialog=!1;case 3:case"end":return e.stop()}}),e)})))()},addHeadlineToFeed:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.user){n.next=3;break}return n.next=3,e.$store.dispatch("addHeadlineToFeed",t);case 3:case"end":return n.stop()}}),n)})))()},removeHeadlineFromFeed:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$store.dispatch("removeHeadlineFromFeed",t);case 2:case"end":return n.stop()}}),n)})))()},saveHeadline:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$store.dispatch("saveHeadline",t).then((function(){e.$router.push("/headlines/".concat(t.slug))}));case 2:case"end":return n.stop()}}),n)})))()},logoutUser:function(){this.$store.dispatch("logoutUser")},isInFeed:function(title){return this.feed.findIndex((function(t){return t.title===title}))>-1?"md-primary":""},dateToISOString:function(t){if(t)return new Date(t).toISOString()}}},c=(n(422),n(41)),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"md-layout md-alignment-center",staticStyle:{margin:"4em 0"}},[n("md-toolbar",{staticClass:"fixed-toolbar",attrs:{elevation:"1"}},[n("md-button",{staticClass:"md-icon-button",on:{click:function(e){t.showLeftSidePanel=!0}}},[n("md-icon",[t._v("menu")])],1),t._v(" "),n("nuxt-link",{staticClass:"md-primary md-title",attrs:{to:"/"}},[t._v("\n      News App\n    ")]),t._v(" "),n("div",{staticClass:"md-toolbar-section-end"},[n("div",{staticClass:"box"},[t.isAuthenticated?[n("md-button",[n("md-avatar",[n("img",{attrs:{src:t.user.avatar,alt:t.user.email}})])],1),t._v(" "),n("md-button",{staticClass:"w-18",on:{click:t.logoutUser}},[t._v("Logout")])]:[n("md-button",{staticClass:"w-18",attrs:{to:"/login"}},[t._v("Login")]),t._v(" "),n("md-button",{staticClass:"w-18",attrs:{to:"/register"}},[t._v("Register")])],t._v(" "),n("md-button",{staticClass:"md-primary w=18",on:{click:function(e){t.showSearchDialog=!0}}},[t._v("Search")]),t._v(" "),n("md-button",{staticClass:"md-accent categories w-20",on:{click:function(e){t.showRightSidePanel=!0}}},[t._v("Categories")])],2)])],1),t._v(" "),n("md-dialog",{attrs:{"md-active":t.showSearchDialog},on:{"update:mdActive":function(e){t.showSearchDialog=e},"update:md-active":function(e){t.showSearchDialog=e}}},[n("md-dialog-title",[t._v("Search Headlines")]),t._v(" "),n("div",{staticClass:"md-layout",staticStyle:{padding:"1em"}},[n("md-field",[n("label",[t._v("Search Term(s)")]),t._v(" "),n("md-input",{attrs:{placeholder:"Use quotes for exact matches, AND / OR / NOT for multiple terms",maxlength:"30"},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}})],1),t._v(" "),n("md-datepicker",{attrs:{"md-immediately":""},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}},[n("label",[t._v("Select starting date (optional)")])]),t._v(" "),n("md-datepicker",{attrs:{"md-immediately":""},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}},[n("label",[t._v("Select ending date (optional)")])])],1),t._v(" "),n("md-dialog-actions",[n("md-button",{staticClass:"md-accent",on:{click:function(e){t.showSearchDialog=!1}}},[t._v("Cancel")]),t._v(" "),n("md-button",{staticClass:"md-primary",on:{click:t.searchHeadlines}},[t._v("Search")])],1)],1),t._v(" "),n("md-drawer",{staticClass:"md-fixed",attrs:{"md-active":t.showLeftSidePanel},on:{"update:mdActive":function(e){t.showLeftSidePanel=e},"update:md-active":function(e){t.showLeftSidePanel=e}}},[n("md-toolbar",{attrs:{"md-elevation":"1"}},[n("span",{staticClass:"md-title"},[t._v("Personal Feed")])]),t._v(" "),t.loading?n("md-progress-bar",{attrs:{"md-mode":"indeterminate"}}):t._e(),t._v(" "),t.isAuthenticated?[n("md-button",[n("md-avatar",[n("img",{attrs:{src:t.user.avatar,alt:t.user.email}})]),t._v("\n            "+t._s(t.user.email)+"\n        ")],1)]:t._e(),t._v(" "),0!==t.feed.length||t.user?0===t.feed.length?n("md-empty-state",{staticClass:"md-accent",attrs:{"md-icon":"bookmark_outline","md-label":"Nothing in Feed","md-description":"Anything you bookmark will be safely stored here"}}):t._e():n("md-empty-state",{staticClass:"md-primary",attrs:{"md-icon":"bookmarks","md-label":"Nothing in Feed","md-description":"Login to bookmark headlines"}},[n("md-button",{staticClass:"md-primary md-raised",attrs:{to:"/login"}},[t._v("Login")])],1),t._v(" "),t._l(t.feed,(function(e){return n("md-list",{key:e.id,staticClass:"md-triple-line"},[n("md-list-item",[n("md-avatar",[n("img",{attrs:{src:e.urlToImage,alt:e.title}})]),t._v(" "),n("div",{staticClass:"md-list-item-text"},[n("span",[n("a",{attrs:{href:e.url,target:"_blank",rel:"noopener noreferrer"}},[t._v(t._s(e.title))])]),t._v(" "),n("span",[t._v(t._s(e.source.name))]),t._v(" "),n("span",{on:{click:function(n){return t.saveHeadline(e)}}},[t._v("View Comments")])]),t._v(" "),n("md-button",{staticClass:"md-icon-button md-list-action",on:{click:function(n){return t.removeHeadlineFromFeed(e)}}},[n("md-icon",{staticClass:"md-accent"},[t._v("delete")])],1)],1),t._v(" "),n("md-divider",{staticClass:"md-inset"})],1)}))],2),t._v(" "),n("md-drawer",{staticClass:"md-right",attrs:{"md-fixed":"","md-active":t.showRightSidePanel},on:{"update:mdActive":function(e){t.showRightSidePanel=e},"update:md-active":function(e){t.showRightSidePanel=e}}},[n("md-toolbar",{attrs:{"md-elevation":1}},[n("span",{staticClass:"md-title"},[t._v("News Categories")])]),t._v(" "),t.loading?n("md-progress-bar",{attrs:{"md-mode":"indeterminate"}}):t._e(),t._v(" "),n("md-list",[n("md-subheader",{staticClass:"md-primary"},[t._v("Categories")]),t._v(" "),t._l(t.newsCategories,(function(e,r){return n("md-list-item",{key:r,on:{click:function(n){return t.loadCategory(e.path)}}},[n("md-icon",{class:e.path===t.category?"md-primary":""},[t._v(t._s(e.icon))]),t._v(" "),n("span",{staticClass:"md-list-item-text"},[t._v(t._s(e.name))])],1)}))],2)],1),t._v(" "),n("div",{staticClass:"md-layout-item md-size-95"},[n("md-content",{staticClass:"md-layout md-gutter",staticStyle:{background:"#007998",padding:"1rem"}},t._l(t.headlines,(function(e){return n("ul",{key:"headline.id",staticClass:"md-layout-item md-large-size-25 md-medium-size-33 md-small-size-50 md-xsmall-size-100"},[n("md-card",{staticStyle:{"margin-top":"1em"},attrs:{"md-with-hover":""}},[n("md-ripple",[n("md-card-media",{attrs:{"md-ratio":"16:9"}},[n("img",{attrs:{src:e.urlToImage,alt:e.title}})]),t._v(" "),n("md-card-header",[n("div",{staticClass:"md-title"},[n("a",{attrs:{href:e.url,target:"_blank"}},[t._v(t._s(e.title))])]),t._v(" "),n("div",{on:{click:function(n){return t.loadSource(e.source.id)}}},[t._v("\n                  "+t._s(e.source.name)+"\n                  "),n("md-icon",{staticClass:"small-icon"},[t._v("book")])],1),t._v(" "),e.author?n("div",{staticClass:"md-subheader"},[t._v("\n                  "+t._s(e.author)+"\n                  "),n("md-icon",{staticClass:"small-icon"},[t._v("face")])],1):t._e(),t._v(" "),n("div",{staticClass:"md-subheader"},[t._v("\n                  "+t._s(t._f("publishedTimeToNow")(e.publishedAt))+"\n                  "),n("md-icon",{staticClass:"small-icon"},[t._v("alarm")])],1)]),t._v(" "),n("md-card-content",[t._v(t._s(e.description))]),t._v(" "),n("md-card-actions",[t.user?n("md-button",{staticClass:"md-icon-button",class:t.isInFeed(e.title),on:{click:function(n){return t.addHeadlineToFeed(e)}}},[n("md-icon",[t._v("bookmark")])],1):t._e(),t._v(" "),t.user?t._e():n("md-button",{staticClass:"md-icon-button",on:{click:function(e){t.showSnackbar=!0}}},[n("md-icon",[t._v("bookmark")])],1),t._v(" "),n("md-button",{staticClass:"md-icon-button",on:{click:function(n){return t.saveHeadline(e)}}},[n("md-icon",[t._v("message")])],1)],1)],1)],1)],1)})),0)],1),t._v(" "),n("md-snackbar",{attrs:{"md-active":t.showSnackbar},on:{"update:mdActive":function(e){t.showSnackbar=e},"update:md-active":function(e){t.showSnackbar=e}}},[t._v("\n      Login to bookmark headlines\n  ")])],1)}),[],!1,null,"39ff51dd",null);e.default=component.exports}}]);